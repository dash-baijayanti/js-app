let pokemonRepository=function(){let t=[];function e(t){let e=$(".modal-body"),n=$(".modal-title");$(".modal-header"),n.empty(),e.empty();let o=$("<h1>"+t.name+"<h1>"),a=$('<img class="modal-img" style="width:50%">');a.attr("src",t.imageUrlFront);let i=$('<img class="modal-img" style="width:50%">');i.attr("src",t.imageUrlBack);let r=$("<h2>Height:"+t.height+"<h2>"),l=$("<h2>Types:"+t.types+"<h2>");n.append(o),e.append(a),e.append(i),e.append(r),e.append(l)}function n(e){"object"==typeof e&&"name"in e?t.push(e):console.error("pokemon is not correct")}function o(){return t}function a(t){pokemonRepository.loadDetails(t).then(function(){e(t)})}return{add:n,getAll:o,addListItem:function t(n){let o=$("<div></div>").addClass("showDetailsOfPokemon");$("<h2></h2>").text(n.name).appendTo(o);let i=$("<button></button>").addClass("btn btn-primary").attr("data-toggle","modal").attr("data-target","#exampleModal").text(n.name);i.appendTo(o),o.appendTo("body"),$(i).click(function(){e(n),a(n)})},loadList:function t(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){n({name:t.name,detailsUrl:t.url})})}).catch(function(t){console.log(t)})},loadDetails:function t(e){return fetch(e.detailsUrl).then(function(t){return t.json()}).then(function(t){e.imageUrlFront=t.sprites.front_default,e.imageUrlBack=t.sprites.back_default,e.height=t.height,e.types=t.types.map(function(t){return t.type.name})}).catch(function(t){console.error(t)})},showDetails:a}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});